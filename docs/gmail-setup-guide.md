# ğŸ“§ Gmail SMTP è¨­å®šå®Œæ•´æŒ‡å—

## ğŸš¨ é‡è¦æé†’

**æ‚¨é‡åˆ°çš„éŒ¯èª¤ "Invalid login: Username and Password not accepted" é€šå¸¸æ˜¯å› ç‚ºï¼š**
1. æ²’æœ‰å•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰
2. ä½¿ç”¨äº†æ™®é€šå¯†ç¢¼è€Œä¸æ˜¯æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼
3. ç’°å¢ƒè®Šæ•¸è¨­å®šéŒ¯èª¤

---

## ğŸ“‹ è¨­å®šæ­¥é©Ÿ

### ç¬¬ä¸€æ­¥ï¼šå•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰

1. **å‰å¾€ Google å¸³æˆ¶è¨­å®š**
   - ç¶²å€ï¼šhttps://myaccount.google.com/
   - é»é¸å·¦å´é¸å–®ã€Œå®‰å…¨æ€§ã€

2. **æ‰¾åˆ°å…©æ­¥é©Ÿé©—è­‰**
   - åœ¨ã€Œç™»å…¥ Googleã€å€å¡Šæ‰¾åˆ°ã€Œå…©æ­¥é©Ÿé©—è­‰ã€
   - é»é¸ã€Œå…©æ­¥é©Ÿé©—è­‰ã€

3. **è¨­å®šå…©æ­¥é©Ÿé©—è­‰**
   - æŒ‰ç…§æŒ‡ç¤ºè¨­å®šæ‰‹æ©Ÿé©—è­‰
   - å®Œæˆå¾Œæœƒçœ‹åˆ°ã€Œå…©æ­¥é©Ÿé©—è­‰ï¼šå·²é–‹å•Ÿã€

### ç¬¬äºŒæ­¥ï¼šç”¢ç”Ÿæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼

1. **å›åˆ°å®‰å…¨æ€§é é¢**
   - ç¢ºä¿å…©æ­¥é©Ÿé©—è­‰å·²å•Ÿç”¨
   - æ‰¾åˆ°ã€Œæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ã€é¸é …

2. **ç”¢ç”Ÿæ–°å¯†ç¢¼**
   - é»é¸ã€Œæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ã€
   - æˆ–ç›´æ¥å‰å¾€ï¼šhttps://myaccount.google.com/apppasswords
   - é¸æ“‡æ‡‰ç”¨ç¨‹å¼ï¼šã€Œéƒµä»¶ã€
   - é¸æ“‡è£ç½®ï¼šã€Œå…¶ä»– (è‡ªè¨‚åç¨±)ã€ï¼Œè¼¸å…¥ã€Œæ°‘å®¿ç³»çµ±ã€

3. **è¤‡è£½å¯†ç¢¼**
   - Google æœƒç”¢ç”Ÿä¸€çµ„ 16 ä½æ•¸çš„å¯†ç¢¼ï¼Œæ ¼å¼å¦‚ï¼š`abcd efgh ijkl mnop`
   - **ç«‹å³è¤‡è£½é€™å€‹å¯†ç¢¼ï¼**ï¼ˆåªæœƒé¡¯ç¤ºä¸€æ¬¡ï¼‰

### ç¬¬ä¸‰æ­¥ï¼šè¨­å®šç’°å¢ƒè®Šæ•¸

1. **åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å‰µå»ºæˆ–ç·¨è¼¯ `.env` æª”æ¡ˆ**

```env
# Gmail SMTP è¨­å®š
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=abcdefghijklmnop

# æ³¨æ„äº‹é …ï¼š
# - EMAIL_USER å¿…é ˆæ˜¯å®Œæ•´çš„ Gmail åœ°å€
# - EMAIL_PASSWORD æ˜¯ 16 ä½æ•¸çš„æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ï¼ˆç§»é™¤ç©ºæ ¼ï¼‰
# - ä¸è¦ä½¿ç”¨æ‚¨çš„ä¸€èˆ¬ Gmail å¯†ç¢¼ï¼
```

2. **ç¢ºèªæ ¼å¼æ­£ç¢º**
   - EMAIL_USER: `youremail@gmail.com`
   - EMAIL_PASSWORD: `abcdefghijklmnop` (16ä½ï¼Œç„¡ç©ºæ ¼)

### ç¬¬å››æ­¥ï¼šé‡æ–°å•Ÿå‹•ä¼ºæœå™¨

```bash
# åœæ­¢é–‹ç™¼ä¼ºæœå™¨ (Ctrl+C)
# ç„¶å¾Œé‡æ–°å•Ÿå‹•
npm run dev
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è¦‹éŒ¯èª¤å’Œè§£æ±ºæ–¹æ¡ˆ

#### 1. "Invalid login: Username and Password not accepted"

**åŸå› ï¼š**
- âŒ ä½¿ç”¨äº†æ™®é€šå¯†ç¢¼è€Œéæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼
- âŒ æ²’æœ‰å•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰
- âŒ æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼æ ¼å¼éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèªå·²å•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰
2. é‡æ–°ç”¢ç”Ÿæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼
3. æª¢æŸ¥ `.env` æª”æ¡ˆæ ¼å¼

#### 2. "Less secure app access"

**åŸå› ï¼š**
- Google å·²åœç”¨ã€Œä½å®‰å…¨æ€§æ‡‰ç”¨ç¨‹å¼å­˜å–æ¬Šã€

**è§£æ±ºæ–¹æ¡ˆï¼š**
- **å¿…é ˆ**ä½¿ç”¨æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ï¼Œç„¡å…¶ä»–é¸æ“‡

#### 3. "Could not authenticate"

**åŸå› ï¼š**
- ç’°å¢ƒè®Šæ•¸æœªæ­£ç¢ºè¼‰å…¥
- ä¼ºæœå™¨æœªé‡æ–°å•Ÿå‹•

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. æª¢æŸ¥ `.env` æª”æ¡ˆä½ç½®ï¼ˆå¿…é ˆåœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ï¼‰
2. é‡æ–°å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
3. ä½¿ç”¨æª¢æŸ¥è¨­å®šåŠŸèƒ½é©—è­‰

### æª¢æŸ¥æ¸…å–®

âœ… **è¨­å®šæª¢æŸ¥æ¸…å–®**

- [ ] Gmail å¸³æˆ¶å·²å•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰
- [ ] å·²ç”¢ç”Ÿæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ï¼ˆ16ä½æ•¸ï¼‰
- [ ] `.env` æª”æ¡ˆåœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„
- [ ] EMAIL_USER æ˜¯å®Œæ•´çš„ Gmail åœ°å€
- [ ] EMAIL_PASSWORD æ˜¯æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ï¼ˆç„¡ç©ºæ ¼ï¼‰
- [ ] å·²é‡æ–°å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
- [ ] ä½¿ç”¨ã€Œæª¢æŸ¥è¨­å®šã€åŠŸèƒ½é©—è­‰

---

## ğŸ§ª æ¸¬è©¦æ­¥é©Ÿ

### 1. æª¢æŸ¥è¨­å®š
1. é€²å…¥æ°‘å®¿å¯©æ ¸é é¢ `/admin-review`
2. é»é¸ã€ŒğŸ“§ æ¸¬è©¦éƒµä»¶ã€
3. é»é¸ã€Œæª¢æŸ¥è¨­å®šã€æŒ‰éˆ•
4. ç¢ºèªæ‰€æœ‰é …ç›®éƒ½æ˜¯ âœ“

### 2. æ¸¬è©¦é€£æ¥
1. é»é¸ã€Œæ¸¬è©¦é€£æ¥ã€
2. æ‡‰è©²é¡¯ç¤ºã€Œéƒµä»¶æœå‹™é€£æ¥æˆåŠŸã€

### 3. ç™¼é€æ¸¬è©¦éƒµä»¶
1. è¼¸å…¥æ‚¨çš„æ¸¬è©¦ä¿¡ç®±
2. é»é¸ã€Œç™¼é€æ¸¬è©¦éƒµä»¶ã€
3. æª¢æŸ¥ä¿¡ç®±æ”¶åˆ°æ¸¬è©¦éƒµä»¶

---

## ğŸ“ ç¯„ä¾‹ .env æª”æ¡ˆ

```env
# è³‡æ–™åº«è¨­å®š
DATABASE_URL=your_database_url

# Google Maps
GOOGLE_MAPS_API_KEY=your_google_maps_key

# Gmail SMTP è¨­å®š
EMAIL_USER=admin@gmail.com
EMAIL_PASSWORD=abcdefghijklmnop

# å…¶ä»–è¨­å®š...
```

---

## ğŸ” å®‰å…¨æé†’

1. **æ°¸é ä¸è¦æäº¤ `.env` æª”æ¡ˆåˆ° Git**
   ```bash
   # ç¢ºä¿ .gitignore åŒ…å«ï¼š
   .env
   .env.local
   .env.*.local
   ```

2. **å®šæœŸæ›´æ–°æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼**
   - å»ºè­°æ¯ 3-6 å€‹æœˆæ›´æ–°ä¸€æ¬¡

3. **ç›£æ§éƒµä»¶ä½¿ç”¨é‡**
   - Gmail æœ‰æ¯æ—¥ç™¼é€é™åˆ¶
   - å€‹äººå¸³æˆ¶ï¼šæ¯å¤© 500 å°
   - G Suiteï¼šæ¯å¤© 2000 å°

---

## ğŸ†˜ ä»ç„¶æœ‰å•é¡Œï¼Ÿ

### å¸¸è¦‹å•é¡Œè¨ºæ–·

1. **é‹è¡Œè¨­å®šæª¢æŸ¥**
   ```javascript
   // åœ¨ç€è¦½å™¨æ§åˆ¶å°åŸ·è¡Œï¼š
   fetch('/api/admin/debug-email-config')
     .then(r => r.json())
     .then(console.log)
   ```

2. **æª¢æŸ¥ç’°å¢ƒè®Šæ•¸**
   ```bash
   # åœ¨çµ‚ç«¯æ©ŸåŸ·è¡Œï¼š
   echo $EMAIL_USER
   echo $EMAIL_PASSWORD
   ```

3. **æ‰‹å‹•æ¸¬è©¦ Gmail ç™»å…¥**
   - å˜—è©¦ç”¨æ‚¨çš„å¸³è™Ÿå’Œæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ç™»å…¥å…¶ä»–éƒµä»¶å®¢æˆ¶ç«¯
   - å¦‚ Outlook æˆ– Thunderbird

### è¯ç¹«æ”¯æ´

å¦‚æœä»¥ä¸Šæ­¥é©Ÿéƒ½ç„¡æ³•è§£æ±ºå•é¡Œï¼Œè«‹æä¾›ï¼š
1. è¨­å®šæª¢æŸ¥çš„çµæœ
2. å®Œæ•´çš„éŒ¯èª¤è¨Šæ¯
3. Gmail å¸³æˆ¶é¡å‹ï¼ˆå€‹äºº/G Suiteï¼‰

---

## ğŸ“š ç›¸é—œé€£çµ

- [Gmail æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼èªªæ˜](https://support.google.com/accounts/answer/185833)
- [å…©æ­¥é©Ÿé©—è­‰è¨­å®š](https://www.google.com/landing/2step/)
- [Gmail SMTP è¨­å®šåƒè€ƒ](https://support.google.com/mail/answer/7126229)
- [Nodemailer Gmail æ–‡æª”](https://nodemailer.com/usage/using-gmail/) 